<div id=D__ID>
    <div class='container p-4' style='max-width:800px;margin-left:auto;margin-right:auto;background-color:rgb(250,250,234,0.94);border-radius:20px'>
        <form id=F__ID>
            <div id=S10__ID>
                <!-- participant part for all tsak forms -------------------->
                <div id="participant_div__ID" style='display:none'>
                    <div class="row px-4">
                        <div class="col-sm-12 col-lg-3">
                            <span class=label__ID>Participant ID</span><br>
                            <input type=text name="Participant_uid" class=form-control readonly />
                        </div>
                    </div>
                    <hr>
                </div>
                <div id=lab_result__ID style='display:none' >
                    <div class="form-group">
                        <div class="questiongroup ">
                            <fieldset class="">
                                <label><span class="">Status</span></label><br>
                                <label class="checkboxes">
                                    <input type="checkbox" name="lab_not_received" disabled>
                                    <span class="check_checkmark"></span>Sample not yet received by the University of Sydney</span>
                                </label><br>
                                <label class="checkboxes">
                                    <input type="checkbox" name="lab_received" disabled>
                                    <span class="check_checkmark"></span>Sample received by University of Sydney</span>
                                 </label><br>
                                <label class="checkboxes">
                                    <input type="checkbox" name="lab_can_analysis" disabled>
                                    <span class="check_checkmark"></span>Sample analysis (cannabinoid &amp; terpenoid) in progress</span>
                                 </label><br>
                                 <label class="checkboxes">
                                    <input type="checkbox" name="lab_cont_analysis" disabled>
                                    <span class="check_checkmark"></span>Sample analysis (contaminant) in progress</span>
                                 </label><br>
                                 <label class="checkboxes">
                                    <input type="checkbox" name="lab_result_pending" disabled>
                                    <span class="check_checkmark"></span>Sample analysis results pending</span>
                                 </label><br>
                                 <label class="checkboxes">
                                    <input type="checkbox" name="lab_result_available" disabled>
                                    <span class="check_checkmark"></span>Sample analysis results available</span>
                                 </label><br>
                            </fieldset>
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="questiongroup ">
                            <fieldset class="">
                                <label style="width:100%"><span class="">Result</span>
                                    <textarea class="form-control" name="Result_A" readonly></textarea>
                                </label>
                            </fieldset>
                        </div>
                    </div>    
                </div>                    
                <div id=page8__ID class="row  mr-0 ml-0 p-4">
                    <div class="col-lg-1 col-sm-0 ">
                    </div>
                    <div class="col-lg-9 col-sm-12 text-center">
                        <span style="color:#888;font-size: x-large;"></span> <b>Free analysis of your cannabis</b>
                    </div>
                    <div class="col-lg-1 col-sm-0 ">
                    </div>
                </div>
                <div id=intructions__ID>
                    <div class="text-left p-2" style='background-color: lightyellow;'>
                        <b>You said in your survey response that you have grown cannabis. If you would
                            like a free and completely anonymous content analysis of your cannabis please
                            keep reading. This process involves a number of simple steps and won’t take
                            you too long to complete (around 5-10 mins). It is designed to ensure that we
                            safely receive and process your sample and can report the results back to you,
                            but that you and your address remain anonymous.</b><br><br>
                            You will be able to call for a pickup of a
                            sample of your cannabis from any ACT
                            address of your choosing (it doesn’t have to
                            be from your home). The study courier will
                            collect your sample from you, without
                            knowing your name or where you live. Then
                            later you can log in using your unique code
                            and get the results of the analysis.
                            Follow these instructions carefully to ensure
                            that you remain anonymous, and can get your
                            results. If you need help with these
                            instructions, ask a close friend or family
                            member, who already knows about your
                            personal cultivation or use of cannabis, to
                            help you.
                            If you have any questions, please phone the
                            CAN-ACT team on [insert telephone number].<br><br>
                        <b>What you’ll need to start </b><br><br>
                        Before you start, please collect together:
                        <ol>
                            <li>Two pieces of paper and a pen</li>
                            <li>A zip-lock bag or other sealable sandwich-
                                sized bag</li>
                            <li>A square of aluminium foil</li>
                        </ol>
                        <b>One piece of paper is for you to
                            fill out and keep in a safe place</b><br><br>
                            We will call this your <b>Record Sheet</b><br><br>
                            On your <b>Record Sheet,</b>write down:<br><br>
                            <ul style="list-style-type:square;">
                                <li>Your <b>CAN-ACT User ID: <a style='font-size: larger;color: red;' id=user__ID></a></b></li>
                                <li>Your <b>CAN-ACT Password: <a style='font-size: larger;color: red;' id=passw__ID></a></b></li>
                                <li>Your <b>Pickup Code: <a style='font-size: larger;color: red;' id=pickup_code__ID></a></b> </li>
                            </ul>
                            <button id=pickup__ID type="button" style="background-color:#E9DD76" class="btn btn-sm">Generate another pickup code</button><br><br>
                            You’ll need this information later to retrieve
                            your analysis results.<br><br>
                            <b>Pickup Code</b><br><br>
                            You’ll need to create your own 6-letter Pickup
                            Code for the courier and write it on the
                            Record Sheet. Create your Pickup Code by
                            taking the first two letters of your favourite
                            sport, plus the first two letters of your
                            favourite colour, plus the first two letters of
                            your favourite fruit. For example: <b>TE</b>nnis,
                            <b>GR</b>een, <b>AP</b>ple would give you a pickup code of
                            TEGRAP.<br><br>
                            Write your Pickup code on your Record Sheet.
                            It should now have your CAN-ACT User ID,
                            your CAN-ACT Password, and your Pickup
                            Code. <br><br>                       
                            Please do not share your Record Sheet with
                            anyone. Put it in a safe place, a location that
                            you can easily remember. Please destroy it
                            once you have viewed your sample results. <br><br>                       
                            <b><i>What your Record Sheet should look like:</i></b><br><br>                       

                    </div>
                </div>
                <div class="form-group">
                    <div class="questiongroup">
                        <fieldset class="pl-2">
                            <label><span class="">I would like a free and completely anonymous content analysis of my cannabis. Click on Submit to get access to results.</span></label><br>
                            <label class="radiobuttons ">
                                <input type="radio" name="lab_analysis" value="1" required>
                                <span class="checkmark"></span>Yes</label>
                        </fieldset>
                    </div>
                </div>
            </div>
            <button id=submit__ID type="submit" d=1 style="border-radius:2rem;background-color: #748A66;width:180px;height:60px;font-family: Arial, Helvetica, sans-serif" class="btn btn-success btn-lg">Submit</button>
        </form>
    </div>
    <script>
        function F__ID(){
            //-------------------------------------
            VmInclude:'__COMPONENT__/f/form.01.js'
            VmInclude:__CURRENT_PATH__/shared-form.js
            //-------------------------------------
            var load2=m.load;
            m.load=function(){
                load2();               
                $('#title__ID').text($vm.module_list[$vm.vm['__ID'].name].task_name);
                console.log(JSON.stringify(m.input.participant_record))
                console.log(JSON.stringify(m.input.lab))
                if(m.input.lab!=undefined) {
                    $vm.deserialize(m.input.lab,'#F__ID');
                    if(m.input.lab.Data.lab_analysis=="1"){
                        $('#submit__ID').hide();
                        $('#lab_result__ID').show();
                    }
                }
                else{
                    $('#F__ID input[name=lab_analysis]').prop('checked',true)
                }
                $('#Participant__ID').val(m.input.participant_record.UID);
                $('#D__ID input[name=Participant_uid]').val(m.input.participant_record.UID);
                $('#Participant__ID').attr('readonly', true);
                $('#Participant__ID').addClass('input-disabled');
                $('#user__ID').val('');
                $('#passw__ID').val('');
                var pw="";
                var un="";
                var user_pw=[];
                var userpw=""; if(window.location.toString().indexOf('username=')!=-1) {
                    userpw=window.location.toString().substring(window.location.toString().indexOf('username='),window.location.length);
                    user_pw=userpw.split("&")
                    un=user_pw[0].split('=')[1];
                    pw=user_pw[1].split('=')[1]
                    $('#user__ID').html(un);
                    $('#passw__ID').html(pw);
                    $('#pickup__ID').click();
                }
            }
            $('#pickup__ID').on('click',function(){
                $('#pickup_code__ID').html(makeid(6));
            
            })
            var makeid=function(length) {
                var result           = '';
                var characters       = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ';
                var charactersLength = characters.length;
                for ( var i = 0; i < length; i++ ) {
                    result += characters.charAt(Math.floor(Math.random() *charactersLength));
                }
                return result;
            }

            //-------------------------------------
            m.after_insert=function(){
                $vm.signout();
            }
        }
    </script>
    <style>
        #D__ID .mt-95 {
        max-width:600px;
    }
      VmInclude:__CURRENT_PATH__/wappsystem-form.css
    </style>
  </div>